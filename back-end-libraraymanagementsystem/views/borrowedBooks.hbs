<div class="page-header">
    <h1>Borrowed Books</h1>
</div>

<div class="card">
    <div class="card-header">
        <h2><i class="fas fa-book-reader"></i> Your Borrowed Books</h2>
    </div>

    {{#if borrowedBooks.length}}
        <div class="borrowed-books">
            {{#each borrowedBooks}}
                <div class="borrowed-book-card">
                    <div class="book-info">
                        <h3>{{this.book.title}}</h3>
                        <p><i class="fas fa-user"></i> Author: {{this.book.author}}</p>
                        <p><i class="fas fa-calendar"></i> Borrowed: {{formatDate this.borrowDate}}</p>
                        <p><i class="fas fa-clock"></i> Due: {{formatDate this.returnDate}}</p>
                    </div>
                    <div class="book-actions">
                        <form action="/books/return/{{this.book._id}}" method="POST">
                            <input type="hidden" name="studentId" value="{{../user.studentId}}">
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-undo"></i> Return Book
                            </button>
                        </form>
                    </div>
                </div>
            {{/each}}
        </div>
    {{else}}
        <div class="empty-state">
            <i class="fas fa-books"></i>
            <h3>No Borrowed Books</h3>
            <p>You haven't borrowed any books yet.</p>
            <a href="/books" class="btn btn-primary">
                <i class="fas fa-search"></i> Browse Books
            </a>
        </div>
    {{/if}}
</div>

<style>
.borrowed-books {
    display: grid;
    gap: 1.5rem;
    padding: 1.5rem;
}

.borrowed-book-card {
    background: var(--bg-secondary);
    border-radius: 0.5rem;
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.book-info {
    flex: 1;
}

.book-info h3 {
    margin-bottom: 0.5rem;
}

.book-info p {
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
}

.empty-state {
    text-align: center;
    padding: 3rem;
}

.empty-state i {
    font-size: 4rem;
    color: var(--accent-primary);
    margin-bottom: 1rem;
}

@media (max-width: 768px) {
    .borrowed-book-card {
        flex-direction: column;
        text-align: center;
    }

    .book-actions {
        width: 100%;
        margin-top: 1rem;
    }

    .book-info p {
        justify-content: center;
    }
}
</style> 